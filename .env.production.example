# InterChord Production Environment Variables
# Copy this file to .env.production and fill in your values
#
# IMPORTANT: Variables prefixed with NEXT_PUBLIC_ are embedded at BUILD time
# and exposed to the browser. They cannot be changed at runtime.

# =============================================================================
# Application
# =============================================================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://interchord.stonefrog.com

# =============================================================================
# Spotify OAuth (PKCE flow - no client secret needed)
# =============================================================================
# Get these from https://developer.spotify.com/dashboard
# IMPORTANT: Update redirect URI in Spotify Dashboard to match production URL
NEXT_PUBLIC_SPOTIFY_CLIENT_ID=your_spotify_client_id
NEXT_PUBLIC_SPOTIFY_REDIRECT_URI=https://interchord.stonefrog.com/api/spotify/callback

# =============================================================================
# MusicBrainz Configuration
# =============================================================================
# Local HTTP API (on same host as container)
# Use host.containers.internal for Podman to reach host services
NEXT_PUBLIC_MUSICBRAINZ_API=http://host.containers.internal:5000/ws/2

# Direct PostgreSQL access (optional, for server-side queries)
MUSICBRAINZ_DB_HOST=host.containers.internal
MUSICBRAINZ_DB_PORT=5432
MUSICBRAINZ_DB_NAME=musicbrainz_db
MUSICBRAINZ_DB_USER=musicbrainz
MUSICBRAINZ_DB_PASSWORD=musicbrainz
MUSICBRAINZ_DB_POOL_SIZE=10
MUSICBRAINZ_DB_TIMEOUT=2000
MUSICBRAINZ_DB_QUERY_TIMEOUT=5000

# =============================================================================
# External API Keys
# =============================================================================
# Setlist.fm - Past concert data
# Get key from https://api.setlist.fm/docs/1.0/index.html
SETLIST_FM_API_KEY=your_setlist_fm_api_key

# Fanart.tv - High-quality artist images (uses MBID)
# Get key from https://fanart.tv/get-an-api-key/
NEXT_PUBLIC_FANART_API_KEY=your_fanart_api_key

# Last.fm - Artist images and album data
# Get key from https://www.last.fm/api/account/create
NEXT_PUBLIC_LASTFM_API_KEY=your_lastfm_api_key

# Discogs - Fallback for discography data
# Get token from https://www.discogs.com/settings/developers
NEXT_PUBLIC_DISCOGS_TOKEN=your_discogs_token

# =============================================================================
# User Database (InterChord's own PostgreSQL)
# =============================================================================
# Connection string for user data (favorites, preferences)
# The interchord-db container runs on port 5433 to avoid MusicBrainz conflict
DATABASE_URL=postgres://interchord:your_secure_password@interchord-db:5432/interchord

# Individual connection parameters (used by podman-compose)
POSTGRES_USER=interchord
POSTGRES_PASSWORD=your_secure_password
POSTGRES_DB=interchord

# =============================================================================
# Cloudflare Tunnel
# =============================================================================
# Get this token from Cloudflare Zero Trust dashboard:
# 1. Go to https://one.dash.cloudflare.com/
# 2. Access > Tunnels > Create a tunnel
# 3. Copy the token from the install command
CLOUDFLARE_TUNNEL_TOKEN=your_cloudflare_tunnel_token

# =============================================================================
# Future: Apple Music (requires $99/year developer program)
# =============================================================================
# APPLE_MUSIC_TEAM_ID=your_team_id
# APPLE_MUSIC_KEY_ID=your_key_id
# APPLE_MUSIC_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"

# =============================================================================
# Future: Authelia SSO
# =============================================================================
# AUTHELIA_JWT_SECRET=your_jwt_secret
# AUTHELIA_SESSION_SECRET=your_session_secret
# AUTHELIA_STORAGE_ENCRYPTION_KEY=your_encryption_key
