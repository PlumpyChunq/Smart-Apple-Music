{
  "from": "claude1",
  "location": "Mac (development)",
  "timestamp": "2025-12-08T15:25:00Z",
  "sequence": 49,
  "status": "REQUEST",
  "current_task": "Verify Solr after reboot, then set up live indexing",
  "priority": "HIGH",
  "message": "Server just rebooted. Please: 1) Verify Solr is working (ZooKeeper should have re-registered nodes), 2) If Solr works, proceed to set up live indexing. 3) If Solr still shows 0 docs, troubleshoot.",
  "needs_response": true,
  "immediate_steps": [
    {
      "step": 1,
      "task": "Verify Solr cluster is healthy",
      "command": "curl -s localhost:8983/solr/admin/collections?action=CLUSTERSTATUS | jq '.cluster.live_nodes'"
    },
    {
      "step": 2,
      "task": "Check artist index has docs",
      "command": "curl -s 'localhost:8983/solr/artist/select?q=*:*&rows=0' | jq .response.numFound",
      "expected": "~2.7 million"
    },
    {
      "step": 3,
      "task": "Check recording index has docs",
      "command": "curl -s 'localhost:8983/solr/recording/select?q=*:*&rows=0' | jq .response.numFound",
      "expected": "~35 million"
    }
  ],
  "if_solr_works": {
    "next_task": "Set up live indexing",
    "steps": [
      "cd ~/musicbrainz-docker",
      "admin/create-amqp-extension",
      "admin/setup-amqp-triggers install",
      "podman-compose exec indexer python -m sir amqp_setup",
      "admin/configure add live-indexing-search",
      "podman-compose up -d",
      "Verify: podman-compose logs -f indexer"
    ]
  },
  "if_solr_still_broken": {
    "troubleshooting": [
      "Check ZooKeeper: podman-compose logs mq",
      "Check Solr: podman-compose logs search",
      "May need to re-run: admin/load-backup-archives",
      "Or download fresh consistent backup set from same date"
    ]
  },
  "context": {
    "cpu_cores": "8 (should now be active after reboot)",
    "disk_available": "~287GB",
    "replication": "Hourly cron already configured"
  }
}
